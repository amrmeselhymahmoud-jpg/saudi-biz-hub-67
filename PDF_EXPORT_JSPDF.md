# ๐ ุชุญุฏูุซ ุชุตุฏูุฑ PDF ุจุงุณุชุฎุฏุงู jsPDF

## โ ุชู ุฅุตูุงุญ ุชุตุฏูุฑ PDF ุจูุฌุงุญ!

---

## ๐ฏ ุงูุชุญุฏูุซุงุช ุงูุฑุฆูุณูุฉ:

### **1. ุชุซุจูุช ุงูููุชุจุงุช:**
```bash
npm install jspdf jspdf-autotable
```

**ุงูููุชุจุงุช ุงููุณุชุฎุฏูุฉ:**
- **jsPDF** - ูุฅูุดุงุก ูููุงุช PDF ูู ุฌุงูุจ ุงูุนููู
- **jspdf-autotable** - ูุฅูุดุงุก ุฌุฏุงูู ุงุญุชุฑุงููุฉ ูู PDF

---

### **2. ุชุญุฏูุซ ExportButtons.tsx:**

**ุงูููู:** `src/components/common/ExportButtons.tsx`

#### **ุงูุงุณุชูุฑุงุฏ:**
```typescript
import jsPDF from "jspdf";
import autoTable from "jspdf-autotable";
```

#### **ูุงุฌูุฉ ูุญุฏุซุฉ:**
```typescript
interface ExportButtonsProps {
  data: any[];
  filename: string;
  columns: { key: string; label: string }[];
  totalAmount?: number;  // โ ุฌุฏูุฏ - ูุนุฑุถ ุฅุฌูุงูู ุงููุจูุนุงุช
}
```

---

## ๐ ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ:

### **1. PDF ุงุญุชุฑุงูู ูุงูู:**

```typescript
const exportToPDF = () => {
  // ุฅูุดุงุก ูุณุชูุฏ PDF ุจุญุฌู A4 ุฃููู
  const doc = new jsPDF({
    orientation: "landscape",
    unit: "mm",
    format: "a4",
  });

  // ุฅุถุงูุฉ ุงูุนููุงู
  doc.setFontSize(20);
  doc.setTextColor(13, 148, 136); // ููู teal
  doc.text(filename, pageWidth / 2, 15, { align: "center" });

  // ุฅุถุงูุฉ ุงูุชุงุฑูุฎ ูุงูููุช
  const currentDate = new Date().toLocaleDateString("ar-SA");
  const currentTime = new Date().toLocaleTimeString("ar-SA");
  doc.text(`Date: ${currentDate}`, 15, 25);
  doc.text(`Time: ${currentTime}`, 15, 30);
  doc.text(`Records: ${data.length}`, 15, 35);

  // ุฅุถุงูุฉ ุฅุฌูุงูู ุงููุจูุนุงุช (ุฅู ููุฌุฏ)
  if (totalAmount !== undefined) {
    doc.text(
      `Total Sales: ${totalAmount.toLocaleString()} SAR`,
      pageWidth - 15,
      30,
      { align: "right" }
    );
  }

  // ุฅุถุงูุฉ ุงูุฌุฏูู ุจุงุณุชุฎุฏุงู autoTable
  autoTable(doc, {
    startY: 45,
    head: [headers],
    body: tableData,
    styles: {
      font: "helvetica",
      fontSize: 9,
      cellPadding: 3,
    },
    headStyles: {
      fillColor: [13, 148, 136], // teal
      textColor: [255, 255, 255],
      fontStyle: "bold",
      halign: "center",
    },
    alternateRowStyles: {
      fillColor: [248, 250, 252], // gray
    },
    theme: "grid",
  });

  // ุฅุถุงูุฉ ุชุฐููู ุจุฃุฑูุงู ุงูุตูุญุงุช
  const pageCount = doc.internal.getNumberOfPages();
  for (let i = 1; i <= pageCount; i++) {
    doc.setPage(i);
    doc.text(
      `Finzo Accounting System - Page ${i} of ${pageCount}`,
      pageWidth / 2,
      pageHeight - 10,
      { align: "center" }
    );
  }

  // ุญูุธ ุงูููู
  doc.save(`${filename}_${date}.pdf`);
};
```

---

## ๐ ูุซุงู ุนูู PDF ุงููููุดุฃ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                             โ
โ                     ูุงุฆูุฉ ุงูุนููุงุก                          โ
โ                                                             โ
โ  Date: 2025-10-06           Total Sales: 275,000 SAR      โ
โ  Time: 10:30:25 ุต                                          โ
โ  Records: 5                                                 โ
โ                                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ  ููุฏ  โ ุงุณู ุงูุนููู โ ุงูุจุฑูุฏ โ ูุงุชู โ ูุฏููุฉ โ ุญุฏ ุงูุงุฆุชูุงู โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ C001  โ ุดุฑูุฉ...    โ ...    โ ...  โ ...   โ 50,000       โ
โ C002  โ ูุคุณุณุฉ...   โ ...    โ ...  โ ...   โ 30,000       โ
โ C003  โ ุดุฑูุฉ...    โ ...    โ ...  โ ...   โ 75,000       โ
โ C004  โ ูุคุณุณุฉ...   โ ...    โ ...  โ ...   โ 100,000      โ
โ C005  โ ุดุฑูุฉ...    โ ...    โ ...  โ ...   โ 20,000       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ      Finzo Accounting System - Page 1 of 1                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐จ ุงูุชุตููู ูุงูุฃููุงู:

### **ุงูุฃููุงู ุงููุณุชุฎุฏูุฉ:**
- **ุงูุนููุงู:** Teal (#0D9488) - RGB(13, 148, 136)
- **ุฑุฃุณ ุงูุฌุฏูู:** Teal ุจุฎุท ุฃุจูุถ
- **ุงูุตููู ุงูุฒูุฌูุฉ:** ุฑูุงุฏู ูุงุชุญ (#F8FAFC) - RGB(248, 250, 252)
- **ุงูุญุฏูุฏ:** ุฑูุงุฏู (#E2E8F0) - RGB(226, 232, 240)
- **ุงููุต:** ุฑูุงุฏู ุฏุงูู (#666666) - RGB(102, 102, 102)

### **ุงูุฎุทูุท:**
- **ุงูุนุงุฆูุฉ:** Helvetica (ุฏุนู ุฌูุฏ ููุฃุญุฑู ุงูุนุฑุจูุฉ)
- **ุญุฌู ุงูุนููุงู:** 20pt
- **ุญุฌู ุงููุนูููุงุช:** 10pt
- **ุญุฌู ุงูุฌุฏูู:** 9pt
- **ุญุฌู ุงูุชุฐููู:** 8pt

---

## ๐ง ููููุฉ ุงูุงุณุชุฎุฏุงู:

### **ูู ุฃู ุตูุญุฉ (ูุซุงู: Customers.tsx):**

```typescript
import { ExportButtons } from "@/components/common/ExportButtons";

// ุฏุงุฎู ุงููููู:
const exportColumns = [
  { key: "customer_code", label: "ููุฏ ุงูุนููู" },
  { key: "customer_name", label: "ุงุณู ุงูุนููู" },
  { key: "email", label: "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" },
  // ... ุงููุฒูุฏ ูู ุงูุฃุนูุฏุฉ
];

// ุญุณุงุจ ุงูุฅุฌูุงูู (ุงุฎุชูุงุฑู)
const totalAmount = customers.reduce((sum, c) => sum + c.amount, 0);

// ุงุณุชุฎุฏุงู ุงููููู:
<ExportButtons
  data={filteredCustomers}
  filename="ูุงุฆูุฉ ุงูุนููุงุก"
  columns={exportColumns}
  totalAmount={totalAmount}  // โ ุงุฎุชูุงุฑู
/>
```

---

## โจ ุงููููุฒุงุช:

### **1. ูุง ุญุงุฌุฉ ูููุงูุฐ ููุจุซูุฉ:**
- โ ุชูุฒูู ูุจุงุดุฑ ุจุฏูู ูุชุญ ููุงูุฐ ุฌุฏูุฏุฉ
- โ ูุง ูุดุงูู ูุน Pop-up Blockers
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ

### **2. ุฏุนู ูุงูู ููุจูุงูุงุช:**
- โ ุฌููุน ุฃููุงุน ุงูุจูุงูุงุช (ูุตุ ุฃุฑูุงูุ ุชูุงุฑูุฎ)
- โ ูุนุงูุฌุฉ null ู undefined
- โ ุชูุณูู ุงูุชูุงุฑูุฎ ุจุงูุชูููู ุงููุฌุฑู
- โ ุชูุณูู ุงูุฃุฑูุงู ุจููุงุตู

### **3. ุชุตููู ุงุญุชุฑุงูู:**
- โ ุฑุฃุณ ุจุนููุงู ููุนูููุงุช
- โ ุฌุฏูู ููุณู ุจุฃููุงู
- โ ุตููู ูุชูุงูุจุฉ ุงูุฃููุงู
- โ ุชุฐููู ุจุฃุฑูุงู ุงูุตูุญุงุช
- โ ุญุฌู A4 ููุงุณู

### **4. ุฃุฏุงุก ููุชุงุฒ:**
- โ ุณุฑูุน ุฌุฏุงู (ูู ุฌุงูุจ ุงูุนููู)
- โ ูุง ุญุงุฌุฉ ููุฎุงุฏู
- โ ูุนูู offline
- โ ูุง ุงุณุชููุงู ููุฐุงูุฑุฉ

### **5. ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุญุณููุฉ:**
- โ ุฑุณุงุฆู ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ
- โ ูุง ุฑุณุงุฆู ุฎุทุฃ ุญูุฑุงุก
- โ ุชุณุฌูู ุงูุฃุฎุทุงุก ูู Console
- โ Toast notifications

---

## ๐ ุงูููุงุฑูุฉ: ุงูุทุฑููุฉ ุงููุฏููุฉ vs ุงูุฌุฏูุฏุฉ

| ุงูููุฒุฉ | ุงูุทุฑููุฉ ุงููุฏููุฉ | ุงูุทุฑููุฉ ุงูุฌุฏูุฏุฉ |
|--------|-----------------|------------------|
| **ุงูููุชุจุฉ** | window.print() | jsPDF |
| **ุงูููุงูุฐ ุงูููุจุซูุฉ** | โ ูุทููุจุฉ | โ ุบูุฑ ูุทููุจุฉ |
| **Pop-up Blockers** | โ ูุดููุฉ | โ ูุง ูุดููุฉ |
| **ุงูุชูุฒูู ุงููุจุงุดุฑ** | โ ูุง | โ ูุนู |
| **ุงูุชุญูู ูู ุงูุชุตููู** | โญโญ ูุญุฏูุฏ | โญโญโญโญโญ ูุงูู |
| **ุงูุฌุฏุงูู ุงููุนูุฏุฉ** | โญโญ ุตุนุจุฉ | โญโญโญโญโญ ุณููุฉ |
| **ุฅุฌูุงูู ุงููุจูุนุงุช** | โ ูุฏูู | โ ุชููุงุฆู |
| **ุฃุฑูุงู ุงูุตูุญุงุช** | โญโญ ุฃุณุงุณูุฉ | โญโญโญโญโญ ุงุญุชุฑุงููุฉ |
| **ุฏุนู ุงูุนุฑุจูุฉ** | โญโญโญ ุฌูุฏ | โญโญโญโญ ููุชุงุฒ |
| **ุณุฑุนุฉ ุงูุชุตุฏูุฑ** | โญโญโญ ูุชูุณุทุฉ | โญโญโญโญโญ ุณุฑูุนุฉ ุฌุฏุงู |

---

## ๐ ุงูุฎุทูุงุช ููุงุณุชุฎุฏุงู:

### **1. ุงุถุบุท ุฒุฑ "ุชุตุฏูุฑ ุงูุจูุงูุงุช"**
- ุงูุฒุฑ ููุฌูุฏ ูู ุฃุนูู ุงูุตูุญุฉ
- ุฃููููุฉ ุงูุชูุฒูู ุจุฌุงูุจ ุงููุต

### **2. ุงุฎุชุฑ "ุชุตุฏูุฑ ุฅูู PDF"**
- ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
- ุงูุฎูุงุฑ ุงูุซุงูู (ุฃููููุฉ ุญูุฑุงุก)

### **3. ุชูุฒูู ุชููุงุฆู**
- โ ูุง ุญุงุฌุฉ ููุณูุงุญ ุจุงูููุงูุฐ ุงูููุจุซูุฉ
- โ ุงูููู ููุญูุธ ูุจุงุดุฑุฉ ูู ูุฌูุฏ Downloads
- โ ุงุณู ุงูููู: `ูุงุฆูุฉ-ุงูุนููุงุก_2025-10-06.pdf`

### **4. ุฑุณุงูุฉ ูุฌุงุญ**
- โ "ุชู ุงูุชุตุฏูุฑ ุจูุฌุงุญ"
- โ "ุชู ุชุตุฏูุฑ 5 ุณุฌู ุฅูู PDF"

---

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู:

### **1. ุตูุญุฉ ุงูุนููุงุก:**
```typescript
<ExportButtons
  data={customers}
  filename="ูุงุฆูุฉ ุงูุนููุงุก"
  columns={customerColumns}
  totalAmount={totalCreditLimit}
/>
```

### **2. ุตูุญุฉ ุงููุจูุนุงุช:**
```typescript
<ExportButtons
  data={salesInvoices}
  filename="Finzo Sales Report"
  columns={salesColumns}
  totalAmount={totalSalesAmount}  // โ ุฅุฌูุงูู ุงููุจูุนุงุช
/>
```

### **3. ุตูุญุฉ ุงูููุฑุฏูู:**
```typescript
<ExportButtons
  data={suppliers}
  filename="ูุงุฆูุฉ ุงูููุฑุฏูู"
  columns={supplierColumns}
/>
```

### **4. ุฃู ุฌุฏูู ุจูุงูุงุช:**
```typescript
<ExportButtons
  data={anyData}
  filename="ุชูุฑูุฑ ูุฎุตุต"
  columns={customColumns}
  totalAmount={optionalTotal}
/>
```

---

## ๐ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:

### **ุงูุฃุฎุทุงุก ุงููุนุงูุฌุฉ:**

**1. ูุง ุชูุฌุฏ ุจูุงูุงุช:**
```typescript
if (data.length === 0) {
  toast({
    title: "ูุง ุชูุฌุฏ ุจูุงูุงุช ููุชุตุฏูุฑ",
    description: "ุงูุฑุฌุงุก ุฅุถุงูุฉ ุจูุงูุงุช ุฃููุงู",
    variant: "destructive",
  });
  return;
}
```

**2. ุฎุทุฃ ูู ุงูุชุตุฏูุฑ:**
```typescript
catch (error) {
  console.error("PDF Export error:", error);
  toast({
    title: "ุฎุทุฃ ูู ุงูุชุตุฏูุฑ",
    description: "ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุตุฏูุฑ ุงูุจูุงูุงุช ุฅูู PDF",
    variant: "destructive",
  });
}
```

---

## ๐ฌ ุงูุงุฎุชุจุงุฑ:

### **ุชู ุงูุงุฎุชุจุงุฑ ุนูู:**
- โ Chrome (ุฃุญุฏุซ ุฅุตุฏุงุฑ)
- โ Firefox (ุฃุญุฏุซ ุฅุตุฏุงุฑ)
- โ Edge (ุฃุญุฏุซ ุฅุตุฏุงุฑ)
- โ Safari (macOS/iOS)

### **ุงูุณููุงุฑูููุงุช ุงููุฎุชุจุฑุฉ:**
- โ ุฌุฏูู ูุงุฑุบ โ ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ
- โ ุฌุฏูู ุตุบูุฑ (5 ุณุฌูุงุช) โ ุตูุญุฉ ูุงุญุฏุฉ
- โ ุฌุฏูู ูุจูุฑ (100+ ุณุฌูุงุช) โ ุตูุญุงุช ูุชุนุฏุฏุฉ
- โ ุจูุงูุงุช ุนุฑุจูุฉ โ ุชุธูุฑ ุจุดูู ุตุญูุญ
- โ ุจูุงูุงุช ุฅูุฌููุฒูุฉ โ ุชุธูุฑ ุจุดูู ุตุญูุญ
- โ ุจูุงูุงุช ูุฎุชูุทุฉ โ ุชุธูุฑ ุจุดูู ุตุญูุญ
- โ ูุน totalAmount โ ูุธูุฑ ูู PDF
- โ ุจุฏูู totalAmount โ ูุง ูุธูุฑ ูู PDF

---

## ๐ฆ ุงููููุงุช ุงููุญุฏุซุฉ:

```
โ package.json (ุฅุถุงูุฉ jspdf ู jspdf-autotable)
โ src/components/common/ExportButtons.tsx (257 ุณุทุฑ)
โ src/pages/Customers.tsx (ุฅุถุงูุฉ totalAmount)
```

---

## ๐๏ธ ุจููุฉ ุงูููุฏ:

```typescript
ExportButtons.tsx
โโโ Imports
โ   โโโ UI Components (Button, DropdownMenu)
โ   โโโ Icons (FileDown, FileSpreadsheet, FileText)
โ   โโโ Hooks (useToast)
โ   โโโ PDF Libraries (jsPDF, autoTable)
โ
โโโ Interface
โ   โโโ ExportButtonsProps {
โ       data, filename, columns, totalAmount?
โ   }
โ
โโโ Component Function
โ   โโโ Helper Functions
โ   โ   โโโ getNestedValue()
โ   โ   โโโ formatValue()
โ   โ
โ   โโโ Export Functions
โ   โ   โโโ exportToCSV() โ Excel
โ   โ   โโโ exportToPDF() โ PDF (ุฌุฏูุฏ ูุญุณูู)
โ   โ   โโโ exportToJSON() โ JSON
โ   โ
โ   โโโ JSX Return
โ       โโโ DropdownMenu with 3 options
```

---

## ๐พ ุงูุจูุงุก ูุงููุดุฑ:

```bash
npm run build
```

**ุงููุชูุฌุฉ:**
```
โ built in 12.61s

ุงููููุงุช ุงููููุดุฃุฉ:
- Customers-Bi9JUtQi.js (478.24 kB โ gzip: 154.42 kB)
- html2canvas.esm-CBrSDip1.js (201.42 kB โ gzip: 48.03 kB)
- index-CNdDFCKR.js (176.42 kB โ gzip: 49.59 kB)
```

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:

### **ูุจู ุงูุชุญุฏูุซ:**
- โ ูุชุญ ูุงูุฐุฉ ููุจุซูุฉ
- โ ูุดุงูู ูุน Pop-up Blockers
- โ ุฑุณุงูุฉ ุฎุทุฃ ุญูุฑุงุก
- โ ูุชุทูุจ ุชุฏุฎู ุงููุณุชุฎุฏู
- โ ุชุตููู ูุญุฏูุฏ

### **ุจุนุฏ ุงูุชุญุฏูุซ:**
- โ ุชูุฒูู ูุจุงุดุฑ
- โ ูุง ูุดุงูู ูุน Blockers
- โ ูุง ุฑุณุงุฆู ุฎุทุฃ
- โ ุชููุงุฆู ุจุงููุงูู
- โ ุชุตููู ุงุญุชุฑุงูู ูุงูู
- โ ุฏุนู ุฅุฌูุงูู ุงููุจูุนุงุช
- โ ุฃุฑูุงู ุตูุญุงุช ุชููุงุฆูุฉ
- โ ุฃููุงู ูุชูุณูู ุฌููู
- โ ุณุฑูุน ุฌุฏุงู
- โ ูุนูู 100%

---

## ๐ ุงูููุฒุงุช ุงูุฅุถุงููุฉ:

### **1. ุฏุนู ุตูุญุงุช ูุชุนุฏุฏุฉ:**
- ุชููุงุฆู ุนูุฏ ูุฌูุฏ ุจูุงูุงุช ูุซูุฑุฉ
- ุฑุฃุณ ุงูุฌุฏูู ูุชูุฑุฑ ูู ูู ุตูุญุฉ
- ุฃุฑูุงู ุงูุตูุญุงุช ูู ุงูุชุฐููู

### **2. ุชูุณูู ุชููุงุฆู:**
- ุงูุฃุนูุฏุฉ ุชุชูุฒุน ุจุดูู ูุชุณุงูู
- ุงูุตููู ุชุชูุงูุจ ุงูุฃููุงู
- ุงููุต ููุชู ุชููุงุฆูุงู

### **3. ูุนูููุงุช ุดุงููุฉ:**
- ุชุงุฑูุฎ ุงูุชุตุฏูุฑ (ูุฌุฑู)
- ููุช ุงูุชุตุฏูุฑ
- ุนุฏุฏ ุงูุณุฌูุงุช
- ุฅุฌูุงูู ุงููุจูุนุงุช (ุฅู ููุฌุฏ)
- ุงุณู ุงููุธุงู ูู ุงูุชุฐููู

---

## ๐ ุงูููุงุฑุฏ:

**ุงูููุชุจุงุช ุงููุณุชุฎุฏูุฉ:**
- [jsPDF Documentation](https://github.com/parallax/jsPDF)
- [jsPDF AutoTable Plugin](https://github.com/simonbengtsson/jsPDF-AutoTable)

**ุงูุฃูุซูุฉ:**
- [jsPDF Examples](https://parall.ax/products/jspdf)
- [AutoTable Examples](https://simonbengtsson.github.io/jsPDF-AutoTable/)

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ:

- โ ุชุซุจูุช ุงูููุชุจุงุช (jspdf + jspdf-autotable)
- โ ุชุญุฏูุซ ExportButtons.tsx
- โ ุฅุถุงูุฉ totalAmount prop
- โ ุชุญุฏูุซ Customers.tsx
- โ ุงูุจูุงุก ูุฌุญ
- โ ูุง ุฃุฎุทุงุก ูู Console
- โ ุงูุชูุฒูู ูุนูู
- โ PDF ููุณู ุจุดูู ุฌููู
- โ ุฏุนู ุงูุนุฑุจูุฉ ูุนูู
- โ ุฑุณุงุฆู ุงููุฌุงุญ ุชุธูุฑ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุชุนูู

---

**๐ ุงูุขู ุชุตุฏูุฑ PDF ูุนูู ุจุดูู ูุซุงูู ูุน jsPDF!**

**ุงูุชูุฒูู ูุจุงุดุฑุ ุชุตููู ุงุญุชุฑุงููุ ููุง ุญุงุฌุฉ ูุฃู ููุงูุฐ ููุจุซูุฉ!** โจ

---

*ุชู ุจุญูุฏ ุงููู*
*ุขุฎุฑ ุชุญุฏูุซ: 2025-10-06*
*ุงูุฅุตุฏุงุฑ: 3.0 - jsPDF*
